<% action_url = (action == :login) ? session_url : users_url %>
<% button_text = (action == :login) ? 'Log In' : 'Sign up'%>


<form action="<%= action_url %>" method="POST">
    <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">

    <label for="username">Username:</label>
    <input type="text" name="user[username]" id="username" value="<%= user.username if user %>">
    <br>
    <label for="password">Password:</label>
    <input type="password" name="user[password]" id="password">
    <br>
    <input type="submit" value="<%= button_text %>">
</form>